# AI-ChatBot

これは、シンプルなFAQ応答を行うAIチャットボットのプロジェクトです。Flaskをバックエンドサーバーとして使用し、フロントエンドとAPIで通信します。ユーザーの質問の意図を理解するために、事前学習済みの日本語言語モデル（Sentence Transformers）を利用しています。

## ✨ 特徴

-   **セマンティック検索**: ユーザーの質問を単語の完全一致ではなく、文章の「意味」で捉えて最適な回答を検索します。
-   **簡単なナレッジ更新**: `data/faq.json` を編集するだけで、チャットボットの応答内容を簡単に追加・変更できます。
-   **シンプルな構成**: PythonとFlaskをベースにしており、動作原理が理解しやすいシンプルな構成です。
-   **Webインターフェース**: `public` ディレクトリに含まれるHTML/CSS/JavaScriptにより、ブラウザ上でチャットを試すことができます。

## ⚙️ 動作要件

このプログラムを実行するには、Python 3.8以上が必要です。
必要なライブラリは `requirements.txt` に記載されています。

-   Flask
-   Flask-Cors
-   sentence-transformers
-   numpy
-   fugashi
-   ipadic
-   unidic-lite

## 🚀 セットアップと実行方法

1.  **リポジトリをクローンします**
    ```bash
    git clone <your-repository-url>
    cd AI-ChatBot
    ```

2.  **必要なライブラリをインストールします**
    仮想環境を作成し、その中でライブラリをインストールすることを推奨します。
    ```bash
    # 仮想環境の作成 (Windows)
    python -m venv venv
    # 仮想環境のアクティベート (Windows)
    .\venv\Scripts\activate
    
    # 必要なライブラリをインストール
    pip install -r requirements.txt
    ```
    *初回実行時、`sentence-transformers` がベースモデルを自動的にダウンロードするため、インターネット接続が必要です。*

3.  **（任意）モデルのファインチューニング**
    FAQデータに特化したモデルを作成することで、回答精度をさらに向上させることができます。
    ```bash
    python src/tuning.py
    ```
    学習が完了すると、`models/fine-tuned-faq-bot` ディレクトリに新しいモデルが保存されます。`src/app.py` は、このファインチューニング済みモデルを自動的に読み込むように設定されています。

4.  **アプリケーションを起動します**
    ```bash
    python src/app.py
    ```

5.  **ブラウザでアクセスします**
    Webブラウザを開き、以下のURLにアクセスしてください。
    http://127.0.0.1:5000/

## 📝 FAQのカスタマイズ方法

チャットボットの応答内容は `data/faq.json` ファイルで管理されています。このファイルを編集することで、独自のFAQチャットボットを作成できます。

### 構造

JSONファイルは、オブジェクトの配列で構成されています。各オブジェクトは1つの「回答」に対応します。

-   `questions`: ユーザーからの質問として想定される文章のリスト（配列）。ここに多くのバリエーションを記述することで、回答精度が向上します。
-   `answer`: `questions` のいずれかにマッチしたときに返す回答文。

```json
{
  "questions": [
    "質問のバリエーション1",
    "質問のバリエーション2"
  ],
  "answer": "ここに回答文を記述します。"
}
```

ファイルを変更した後は、アプリケーションを再起動すると変更が反映されます。